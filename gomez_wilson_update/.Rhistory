subset(ftcasi_black > 0) %>%
subset(egal_equal > 0) %>%
subset(egal_bigprob > 0) %>%
subset(egal_worryless > 0) %>%
subset(egal_fewerprobs > 0) %>%
subset(govrole_big > 0) %>%
subset(govrole_market > 0) %>%
subset(gender_respondent_x < 3) %>%
subset(paprofile_freqpolit_socmedia > -1)
anes_2016 <- anes_2016 %>%
mutate(knowl_senmaj = as.numeric(knowl_senmaj),
knowl_senmaj = recode(knowl_senmaj,
"1" = 0,
'2' = 1)) %>%
mutate(knowl_senmaj_f = as.character(knowl_senmaj),
knowl_senmaj_f = recode(knowl_senmaj,
"1" = "Correct",
"0" = "Incorrect")) %>%
mutate(knowl_housemaj = as.numeric(knowl_housemaj),
knowl_housemaj = recode(knowl_housemaj,
"1" = 0,
"2" = 1)) %>%
mutate(knowl_housemaj_f = as.character(knowl_housemaj),
knowl_housemaj_f = recode(knowl_housemaj,
"0" = "Incorrect",
"1" = "Correct")) %>%
mutate(govrole_big = as.numeric(govrole_big),
govrole_big = recode(govrole_big,
"1" = 1,
"2" = 0)) %>%
mutate(govrole_market = as.numeric(govrole_market),
govrole_market = recode(govrole_market,
"1" = 0,
"2" = 1)) %>%
mutate(pid_dum_dem = as.numeric(pid_self),
pid_dum_dem = recode(pid_self,
"1" = 1,
"2" = 0,
"3" = 0)) %>%
mutate(female = as.numeric(gender_respondent_x),
female = recode(gender_respondent_x,
"1" = 0,
"2" = 1)) %>%
mutate(south = as.numeric(sample_region),
south = recode(sample_region,
"1" = 0,
"2" = 0,
"3" = 1,
"4" = 0))
summary(anes_2016$govrole_big)
summary(anes_2016$knowl_housemaj)
summary(anes_2016$knowl_senmaj)
df2 <- remove_labels(anes_2016)
df2$knowl_housemaj <- as.numeric(df2$knowl_housemaj)
class(df2$knowl_housemaj)
df2$knowl_senmaj <- as.numeric(df2$knowl_senmaj)
class(df2$knowl_senmaj)
#count partially correct answers as correct + create factor version of resentment vars
df2 <- df2 %>%
mutate(ofcrec_cj_correct= as.numeric(ofcrec_cj_correct),
ofcrec_cj_correct = recode(ofcrec_cj_correct,
"0" = 0,
"0.5" = 1,
"1" = 1,
"2" = 1)) %>%
mutate(ofcrec_vp_correct= as.numeric(ofcrec_vp_correct),
ofcrec_vp_correct = recode(ofcrec_vp_correct,
"0" = 0,
"0.5" = 1,
"1" = 1,
"2" = 1)) %>%
mutate(ofcrec_speaker_correct= as.numeric(ofcrec_speaker_correct),
ofcrec_speaker_correct = recode(ofcrec_speaker_correct,
"0" = 0,
"0.5" = 1,
"1" = 1,
"2" = 1))
#create additive 0-1 sophistication scale
#each right answer is worth 1pt
df2$soph <- (df2$ofcrec_vp_correct + df2$ofcrec_cj_correct +
df2$ofcrec_speaker_correct +
df2$knowl_housemaj + df2$knowl_senmaj)/5
summary(df2$soph)
#recode egalitarianism so highest response is most egalitarian
df2 <- df2 %>%
mutate(egal_equal = as.numeric(egal_equal),
egal_equal = recode(egal_equal,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1)) %>%
mutate(egal_fewerprobs = as.numeric(egal_fewerprobs),
egal_fewerprobs = recode(egal_fewerprobs,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1))
#make 4-pt egal scale
df2$egal_scale <- (df2$egal_equal + df2$egal_bigprob + df2$egal_fewerprobs +
df2$egal_worryless)/20
summary(df2$egal_scale)
#make econ-individualism scale
df2$econ_indiv <- (df2$govrole_big + df2$govrole_market)/2
summary(df2$econ_indiv)
#recode symbolic racism items so highest = most racist
df2 <- df2 %>%
mutate(resent_try = as.numeric(resent_try),
resent_try = recode(resent_try,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1)) %>%
mutate(resent_workway = as.numeric(resent_workway),
resent_workway = recode(resent_workway,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1)) %>%
mutate(resent_deserve_f = as.character(resent_deserve),
resent_deserve_f = recode(resent_deserve,
"1" = "Agree Strongly",
"2" = "Agree",
"3" = "Neither",
"4" = "Disagree",
"5" = "Disagree Strongly")) %>%
mutate(resent_slavery_f = as.character(resent_slavery),
resent_slavery_f = recode(resent_slavery,
"1" = "Agree Strongly",
"2" = "Agree",
"3" = "Neither",
"4" = "Disagree",
"5" = "Disagree Strongly")) %>%
mutate(resent_try_f = as.character(resent_try),
resent_try_f = recode(resent_try,
"5" = "Agree Strongly",
"4" = "Agree",
"3" = "Neither",
"2" = "Disagree",
"1" = "Disagree Strongly")) %>%
mutate(resent_workway_f = as.character(resent_workway),
resent_workway_f = recode(resent_workway,
"5" = "Agree Strongly",
"4" = "Agree",
"3" = "Neither",
"2" = "Disagree",
"1" = "Disagree Strongly")) %>%
subset(dem_raceeth_x == 1)
write_rds(df2, "data/df2_2016.Rds")
library(tidyverse)
library(labelled)
library(MASS)
library(stargazer)
library(lsmeans)
df1 <- read_rds("data/df_2012.Rds") %>%
mutate(year = 2012)
summary(df1$dem_edugroup_x)
df2 <- read_rds("data/df2_2016.Rds") %>%
mutate(year = 2016) %>%
mutate(dem_edugroup_x = as.numeric(dem_edugroup_x),
dem_edugroup_x = recode(dem_edugroup_x,
"1" = 1,
"2" = 1,
"3" = 1,
"4" = 1,
"5" = 1,
"6" = 1,
"7" = 1,
"8" = 1,
"9" = 2,
"10" = 3,
"11" = 3,
"12" = 3,
"13" = 4,
"14" = 5,
"15" = 5,
"16" = 5,
"90" = 6,
"95" = 6,
"-9" = 6)) %>%
subset(dem_edugroup_x > 0) %>%
subset(dem_edugroup_x < 6)
#df3 <- read_rds("data/df3_2020.Rds") %>%
#  mutate(year=2020)
library(plyr)
df<-rbind.fill(df1, df2)
#make racism items factors
df$resent_deserve_m <- factor(df$resent_deserve, levels = c("1",
"2",
"3",
"4", "5"))
df$resent_try_m <- factor(df$resent_try, levels = c("1",
"2",
"3",
"4", "5"))
df$resent_workway_m <- factor(df$resent_workway, levels = c("1",
"2",
"3",
"4", "5"))
df$resent_slavery_m <- factor(df$resent_slavery, levels = c("1",
"2",
"3",
"4", "5"))
write_csv(df, "data/df_combined.csv")
write_rds(df, "data/df_combined.Rds")
##estimate ordered probit, group by year
##I predict that sophistication should predict resent_slavery and resent_deserve,
##but not predict resent_workway and resent_try
###sophistication category
df$soph_cat <- cut(df$soph,
breaks=c("0", "0.25", "0.5", "0.75", "1"),
labels=c('Low (0-0.25)', 'Med-Low (0.25-0.5)',
'Med-High (0.5-0.75)', "High (0.75-1)")) %>%
glimpse()
#####pretty pictures
df$resent_deserve_f <- factor(df$resent_deserve_f, levels = c("Agree Strongly",
"Agree",
"Neither",
"Disagree", "Disagree Strongly"))
df$resent_try_f <- factor(df$resent_try_f, levels = c("Agree Strongly",
"Agree",
"Neither",
"Disagree", "Disagree Strongly"))
df$resent_workway_f <- factor(df$resent_workway_f, levels = c("Agree Strongly",
"Agree",
"Neither",
"Disagree", "Disagree Strongly"))
df$resent_slavery_f <- factor(df$resent_slavery_f, levels = c("Agree Strongly",
"Agree",
"Neither",
"Disagree", "Disagree Strongly"))
df$symb_racism <- (df$resent_deserve + df$resent_slavery +
df$resent_try + df$resent_workway)/20
summary(df$symb_racism)
for_fig <- df %>%
dplyr::select(soph, soph_cat, symb_racism, resent_deserve,
resent_deserve_m,
resent_deserve_f, resent_slavery, resent_slavery_m, resent_slavery_f,
resent_try, resent_try_f, resent_try_m,
resent_workway, resent_workway_m, resent_workway_f,
year, dem_edugroup_x) %>%
drop_na()
for_fig$education_f <- factor(for_fig$dem_edugroup_x, levels = c(1,
2,
3,
4,
5),
labels =              c("Less than HS",
"High School",
"Some Post-HS",
"Bachelor's",
"Graduate"))
ggplot(for_fig, aes(x=soph, y=symb_racism)) + geom_point() + geom_jitter() +
theme_bw() + facet_wrap(vars(year)) +
geom_smooth(method='lm',formula=y~x) +
labs(x = "Sophistication",
y = "Symbolic Racism")
ggsave("fig/symbolic-racism-desc.png")
ggplot(for_fig, aes(x=soph)) + geom_bar() +
facet_grid(vars(year)) + theme_bw() +
labs(x = "Sophistication",
y = "Count")
ggsave("fig/sophistication-desc.png")
a <- ggplot(for_fig, aes(x=resent_slavery_f)) + geom_bar() +
facet_wrap(vars(soph_cat)) + theme_bw() +
labs(x = "Past Slavery Harder for Blacks",
y = "Count")
#ggsave("fig/slav-soph.png", width = 9, height = 4)
b <- ggplot(for_fig, aes(x=resent_deserve_f)) + geom_bar() +
facet_wrap(vars(soph_cat)) + theme_bw() +
labs(x = "Blacks Get Less than Deserve",
y = "Count")
#ggsave("fig/deserve-soph.png", width = 9, height = 4)
c <- ggplot(for_fig, aes(x=resent_try_f)) + geom_bar() +
facet_wrap(vars(soph_cat)) + theme_bw() +
labs(x = "Blacks Should Try Harder",
y = "Count")
#ggsave("fig/try-soph.png", width = 9, height = 4)
d <- ggplot(for_fig, aes(x=resent_workway_f)) + geom_bar() +
facet_wrap(vars(soph_cat)) + theme_bw() +
labs(x = "Blacks Should Work Harder",
y = "Count")
e <- gridExtra::grid.arrange(a,b,c,d, ncol = 2)
ggsave("fig/response-by-soph.png", plot = e, width = 18, height = 6)
ggplot(for_fig, aes(x=education_f)) + geom_bar() +
facet_wrap(vars(soph_cat)) + theme_bw() +
labs(x = "",
y = "Count")
ggsave("fig/soph-education.png", width = 10, height = 5)
##create dfs for each year
df_2012 <- df %>%
subset(year==2012)
df_2016 <- df %>%
subset(year==2016)
#df_2020 <- df %>%
#  subset(year==2020)
View(df_2012)
##2016 analysis
sm5_16 <- polr(resent_deserve_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2016,  method = c("probit"))
sm6_16 <- polr(resent_slavery_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2016,  method = c("probit"))
sm7_16 <- polr(resent_try_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2016,  method = c("probit"))
sm8_16 <- polr(resent_workway_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2016,  method = c("probit"))
stargazer(sm5_16, sm6_16, sm7_16, sm8_16, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2016",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age",
"Social Media Use",
"Income"),
dep.var.labels = c("Question 1",
"Question 2",
"Question 3",
"Question 4"))
cor(df_2016$paprofile_freqpolit_socmedia, df$soph, method = "pearson")
cor(df_2016$paprofile_freqpolit_socmedia, df_2016$soph, method = "pearson")
cor(df_2012$paprofile_freqpolit_socmedia, df_2012$soph,
method = "pearson")
df_2012 <- df_2012 %>%
mutate(paprofile_freqpolit_socmedia = paprofile_freqpolit_socmedia,
paprofile_freqpolit_socmedia = recode(paprofile_freqpolit_socmedia,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1))
sm1_12 <- polr(resent_deserve_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm2_12 <- polr(resent_slavery_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm3_12 <- polr(resent_try_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm4_12 <- polr(resent_workway_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + paprofile_freqpolit_socmedia +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age",
"Social Media Use",
"Income"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
sm1_12 <- polr(resent_deserve_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm2_12 <- polr(resent_slavery_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm3_12 <- polr(resent_try_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm4_12 <- polr(resent_workway_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age",
"Social Media Use",
"Income"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age",
"Soc. Med: Never", "Soc. Med: Hardly Ever",
"Soc. Med: Some", "Soc. Med: A lot",
"Income"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
df_2012 <- df_2012 %>%
mutate(paprofile_freqpolit_socmedia = paprofile_freqpolit_socmedia,
paprofile_freqpolit_socmedia = recode(paprofile_freqpolit_socmedia,
"1" = 5,
"2" = 4,
"3" = 3,
"4" = 2,
"5" = 1))
##2012 Social Media
sm1_12 <- polr(resent_deserve_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm2_12 <- polr(resent_slavery_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm3_12 <- polr(resent_try_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
sm4_12 <- polr(resent_workway_m ~ soph + female + dem_edugroup_x +
econ_indiv + egal_scale + south + pid_dum_dem + relig_church +
paprofile_libcon_self + ftcasi_black + dem_age_r_x + as.factor(paprofile_freqpolit_socmedia) +
inc_incgroup_pre,
data = df_2012,  method = c("probit"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
stargazer(sm1_12, sm2_12, sm3_12, sm4_12, #m2_20, m3_20,
title="Symbolic Racism Scale Items 2012",
type="latex", style = "apsr",
align=TRUE, out="tables/probits_social_media_12.tex",
covariate.labels = c("Political Sophistication",
"Female", "Education",
"Economic Individualism",
"Egalitarianism", "South", "Democrat",
"Church Attendance", "Ideology",
"Black Feeling Therm.", "Age",
"Soc.Med: Never", "Soc.Med: Rarely",
"Soc.Med: Some", "Soc.Med: A lot",
"Income"),
dep.var.labels = c("Structural 1",
"Structural 2",
"Individual 1",
"Individual 2"))
